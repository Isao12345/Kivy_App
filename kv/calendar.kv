#:import dp kivy.metrics.dp

<CalendarScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1   # white background
        Rectangle:
            size: self.size
            pos: self.pos

    BoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(15)

        # -------- Header --------
        Label:
            text: "ðŸ“… My Calendar"
            font_size: dp(28)
            bold: True
            size_hint_y: None
            height: dp(40)
            color: 1,0.3,0.5,1   # pink header

        # -------- Year Selection --------
        BoxLayout:
            size_hint_y: None
            height: dp(50)
            spacing: dp(10)

            Button:
                text: "<< Prev Year"
                background_color: 0.8,0.1,0.2,1   # dark red
                color: 1,1,1,1
                on_press: root.prev_year()

            Label:
                id: year_label
                text: str(root.current_year)
                font_size: dp(18)
                bold: True
                color: 0.9,0.3,0.5,1   # pink-ish
                size_hint_x: None
                width: dp(100)
                halign: "center"
                valign: "middle"
                text_size: self.size

            Button:
                text: "Next Year >>"
                background_color: 0.8,0.1,0.2,1
                color: 1,1,1,1
                on_press: root.next_year()

        # -------- Month Selection --------
        BoxLayout:
            size_hint_y: None
            height: dp(50)
            spacing: dp(10)

            Button:
                text: "<< Prev Month"
                background_color: 0.9,0.3,0.4,1   # red
                color: 1,1,1,1
                on_press: root.prev_month()

            Label:
                id: month_label
                text: f"{root.current_month}"
                font_size: dp(18)
                bold: True
                color: 0.9,0.3,0.5,1
                size_hint_x: None
                width: dp(120)
                halign: "center"
                valign: "middle"
                text_size: self.size

            Button:
                text: "Next Month >>"
                background_color: 0.9,0.3,0.4,1
                color: 1,1,1,1
                on_press: root.next_month()

        # -------- Weekdays --------
        GridLayout:
            cols: 7
            size_hint_y: None
            height: dp(30)
            spacing: dp(5)
            canvas.before:
                Color:
                    rgba: 1,0.95,0.97,1   # light pink background
                Rectangle:
                    size: self.size
                    pos: self.pos

            Label:
                text: "Mon"
                color: 0.9,0.3,0.5,1
            Label:
                text: "Tue"
                color: 0.9,0.3,0.5,1
            Label:
                text: "Wed"
                color: 0.9,0.3,0.5,1
            Label:
                text: "Thu"
                color: 0.9,0.3,0.5,1
            Label:
                text: "Fri"
                color: 0.9,0.3,0.5,1
            Label:
                text: "Sat"
                color: 0.8,0.1,0.2,1   # dark red
            Label:
                text: "Sun"
                color: 0.8,0.1,0.2,1

        # -------- Calendar Days --------
        GridLayout:
            id: days_container
            cols: 7
            spacing: dp(5)
            size_hint_y: None
            height: self.minimum_height

        # -------- Navigation Buttons --------
        BoxLayout:
            size_hint_y: None
            height: dp(50)
            spacing: dp(10)

            Button:
                text: "Back Home"
                background_color: 0.9,0.1,0.2,1   # dark red
                color: 1,1,1,1
                on_press: app.root.current = "home"

            Button:
                text: "Go to Events"
                background_color: 0.9,0.3,0.4,1   # red
                color: 1,1,1,1
                on_press: app.root.current = "event"